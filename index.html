<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dạng bài: Chia Động từ - Lớp Anh thầy Kết</title>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
body {
  font-family: Arial, sans-serif;
  background-color: #fff8f0;
  margin: 0;
  padding: 0;
  text-align: center;
}

/* HEADER */
header {
  background-color: #ffd6ba;
  padding: 15px 20px;
  font-weight: bold;
  color: #7a4e3e;
  display: flex;
  align-items: center;
  justify-content: space-between;
  position: relative;
}

.header-left a {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 18px;
  color: #7a4e3e;
  text-decoration: none;
}
.header-left i { font-size: 26px; }

.header-center {
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  font-size: 22px;
}

/* SELECT */
.top-select {
  margin: 20px 40px;
  text-align: left;
}
select {
  padding: 8px 14px;
  font-size: 18px;
  border-radius: 8px;
  border: 2px solid #a0e7e5;
  background-color: #e3fdfd;
}

/* EXERCISE */
.exercise {
  width: 85%;
  margin: 20px auto;
  font-size: 22px;
  text-align: left;
}

.q-box {
  background: white;
  padding: 12px 15px;
  border-radius: 10px;
  border-left: 6px solid #ffd6ba;
  margin-bottom: 18px;
}

.blankInput {
  width: 110px;
  font-size: 18px;
  padding: 4px 6px;
  border-radius: 6px;
  border: 2px solid #a0e7e5;
  text-align: center;
  margin: 0 3px;
}

.check-btn {
  margin-top: 8px;
  background-color: #a0e7e5;
  border: none;
  padding: 6px 14px;
  font-size: 16px;
  border-radius: 8px;
  cursor: pointer;
}
.check-btn:hover {
  background-color: #ffb3ba;
}

.result {
  display: block;
  margin-top: 6px;
  font-weight: bold;
}

.blankMark {
  font-weight: bold;
  color: #1d3557;
}

footer {
  font-size: 20px;
  margin-top: 40px;
  padding: 15px;
  color: #7a4e3e;
  background-color: #fff0e1;
}

/* FIREWORKS EFFECT */
.firework {
  position: fixed;
  width: 6px;
  height: 6px;
  background: transparent;
  pointer-events: none;
  z-index: 9999;
}

.firework span {
  position: absolute;
  width: 4px;
  height: 4px;
  background: gold;
  border-radius: 50%;
  animation: explode 1.2s ease-out forwards;
}

@keyframes explode {
  from {
    transform: translate(0,0) scale(1);
    opacity: 1;
  }
  to {
    transform: translate(var(--x), var(--y)) scale(0);
    opacity: 0;
  }
}

.firework {
  position: fixed;
  width: 10px;
  height: 10px;
  background: transparent;
  pointer-events: none;
  z-index: 9999;
}

.firework span {
  position: absolute;
  width: 10px;   /* TO HƠN */
  height: 10px;  /* TO HƠN */
  background: gold;
  border-radius: 50%;
  animation: explode 1.3s ease-out forwards;
  box-shadow: 0 0 10px white; /* phát sáng */
}

@keyframes explode {
  from {
    transform: translate(0,0) scale(1.2);
    opacity: 1;
  }
  to {
    transform: translate(var(--x), var(--y)) scale(0);
    opacity: 0;
  }
}


</style>
</head>

<body>

<header>
  <div class="header-left">
    <a href="https://lopanhthayket-site.github.io/lopanhthayket_thcs/">
      <i class="fa-solid fa-house"></i> Home
    </a>
  </div>
  <div class="header-center">Dạng bài: Chia Động từ - Lớp Anh thầy Kết</div>
</header>

<div class="top-select">
  <select id="topicSelect">
    <option value="1">Nhóm thì đơn #1</option>
    <option value="2">Nhóm thì đơn #2</option>
    <option value="3">Nhóm thì tiếp diễn #1</option>
    <option value="4">Nhóm thì tiếp diễn #2</option>
    <option value="5">Nhóm thì hoàn thành</option>
    <option value="6">Tổng hợp #1</option>
    <option value="7">Tổng hợp #2</option>

  </select>
</div>

<div class="exercise" id="exerciseBox"></div>

<footer>Chúc bạn học tốt!</footer>

<script>

/******** DATA ********/
const exercises = {
  1: [
    {
      q: "They ______ at home yesterday. (be)",
      answers: ["were"],
      explain: "Yesterday → quá khứ đơn, They → were."
    },
    {
      q: "_______ he ______ to school by bike every day? (go)",
      answers: ["does", "go"],
      explain: "Câu hỏi hiện tại đơn → Does + S + V."
    },
    {
      q: "My brother ______ to music every night. (listen)",
      answers: ["listens"],
      explain: "Hiện tại đơn (+): Thói quen ở hiện tại, chủ ngữ số ít."
    },
    {
      q: "They ______ a new car last month. (not/buy)",
      answers: ["did not buy", "didn't buy"],
      explain: "Quá khứ đơn (-): Dấu hiệu 'last month' -> didn't + V."
    },
    {
      q: "______ you ______ the housework tomorrow? (do)",
      answers: ["Will", "do"],
      explain: "Tương lai đơn (?): Dấu hiệu 'tomorrow' -> Will + S + V?"
    },
    {
      q: "She ______ very tired after the trip yesterday. (be)",
      answers: ["was"],
      explain: "Quá khứ đơn với To be: 'She' đi với 'was'."
    },
    {
      q: "The Earth ______ around the Sun. (go)",
      answers: ["goes"],
      explain: "Hiện tại đơn: Sự thật hiển nhiên, chủ ngữ số ít thêm 'es'."
    },
    {
      q: "I ______ to the party next weekend. (not/go)",
      answers: ["will not go", "won't go"],
      explain: "Tương lai đơn (-): Dấu hiệu 'next weekend' -> won't + V."
    },
    {
      q: "______ he ______ his teeth twice a day? (brush)",
      answers: ["Does", "brush"],
      explain: "Hiện tại đơn (?): Thói quen hàng ngày, chủ ngữ 'he' dùng 'Does'."
    },
    {
      q: "We ______ to Da Lat three years ago. (move)",
      answers: ["moved"],
      explain: "Quá khứ đơn (+): Dấu hiệu 'ago', động từ có quy tắc thêm 'ed'."
    },
    {
      q: "Listen! I think the rain ______ soon. (stop)",
      answers: ["will stop"],
      explain: "Tương lai đơn: Dự đoán một sự việc sắp xảy ra."
    },
    {
      q: "They ______ at the office right now. (not/be)",
      answers: ["are not", "aren't"],
      explain: "Hiện tại đơn với To be: 'They' đi với 'aren't'."
    },
    {
      q: "Where ______ you ______ last night? (be)",
      answers: ["were"],
      explain: "Quá khứ đơn với To be: Câu hỏi với 'you' dùng 'were'."
    },
    {
      q: "Water ______ at 100 degrees Celsius. (boil)",
      answers: ["boils"],
      explain: "Hiện tại đơn: Sự thật hiển nhiên."
    },
    {
      q: "______ she ______ you a letter next week? (send)",
      answers: ["Will", "send"],
      explain: "Tương lai đơn (?): Dấu hiệu 'next week'."
    },
    {
      q: "I ______ any coffee this morning. (not/drink)",
      answers: ["did not drink", "didn't drink"],
      explain: "Quá khứ đơn (-): Sự việc đã xảy ra và kết thúc trong sáng nay."
    },
    {
      q: "My parents ______ very busy today. (be)",
      answers: ["are"],
      explain: "Hiện tại đơn với To be: 'My parents' là số nhiều."
    },
    {
      q: "He ______ the window two hours ago. (break)",
      answers: ["broke"],
      explain: "Quá khứ đơn (+): Động từ bất quy tắc (break -> broke)."
    },
    {
      q: "If it's sunny, we ______ camping. (go)",
      answers: ["will go"],
      explain: "Tương lai đơn: Mệnh đề chính trong câu điều kiện loại 1."
    },
    {
      q: "______ your sister ______ oranges? (like)",
      answers: ["Does", "like"],
      explain: "Hiện tại đơn (?): Hỏi về sở thích, chủ ngữ số ít."
    },
    {
      q: "The students ______ the exam last Friday. (not/fail)",
      answers: ["did not fail", "didn't fail"],
      explain: "Quá khứ đơn (-): Trợ động từ 'did not' + V."
    },
    {
      q: "I promise I ______ late again. (not/be)",
      answers: ["will not be", "won't be"],
      explain: "Tương lai đơn: Câu hứa hẹn với 'promise'."
    },
    {
      q: "They ______ football in the park every Sunday. (play)",
      answers: ["play"],
      explain: "Hiện tại đơn (+): Thói quen, chủ ngữ số nhiều giữ nguyên V."
    },
    {
      q: "______ you ______ to the zoo last Sunday? (go)",
      answers: ["Did", "go"],
      explain: "Quá khứ đơn (?): Did + S + V?"
    },
    {
      q: "She ______ a famous singer in the future. (be)",
      answers: ["will be"],
      explain: "Tương lai đơn: Dự đoán tương lai."
    },
    {
      q: "Cats ______ mice. (catch)",
      answers: ["catch"],
      explain: "Hiện tại đơn: Bản năng động vật, số nhiều giữ nguyên V."
    },
    {
      q: "It ______ cold yesterday. (not/be)",
      answers: ["was not", "wasn't"],
      explain: "Quá khứ đơn với To be: 'It' đi với 'wasn't'."
    },
    {
      q: "When ______ they often ______ their homework? (finish)",
      answers: ["do", "finish"],
      explain: "Hiện tại đơn (?): có often, hỏi về hành động lặp lại."
    },
    {
      q: "I ______ a beautiful bird in the garden yesterday. (see)",
      answers: ["saw"],
      explain: "Quá khứ đơn (+): Động từ bất quy tắc (see -> saw)."
    },
    {
      q: "Wait! I ______ you with those bags. (help)",
      answers: ["will help"],
      explain: "Tương lai đơn: Quyết định ngay tại thời điểm nói."
    },
    {
      q: "My father ______ to work by bus every day. (not/go)",
      answers: ["does not go", "doesn't go"],
      explain: "Hiện tại đơn (-): Chủ ngữ số ít dùng 'doesn't'."
    },
    {
      q: "______ your mother ______ a cake last night? (make)",
      answers: ["Did", "make"],
      explain: "Quá khứ đơn (?): Dấu hiệu 'last night'."
    },
    {
      q: "The train ______ at 9 p.m. tonight. (leave)",
      answers: ["leaves"],
      explain: "Hiện tại đơn: Diễn tả lịch trình, thời khóa biểu."
    },
    {
      q: "We ______ to the museum tomorrow morning. (not/visit)",
      answers: ["will not visit", "won't visit"],
      explain: "Tương lai đơn (-): Phủ định cho dự định."
    },
    {
      q: "I ______ a student ten years ago. (be)",
      answers: ["was"],
      explain: "Quá khứ đơn với To be: 'I' đi với 'was'."
    },
    {
      q: "How ______ you ______ to school everyday? (go)",
      answers: ["do", "go"],
      explain: "Hiện tại đơn (?): Hỏi về cách thức di chuyển."
    },
    {
      q: "They ______ the house blue last week. (paint)",
      answers: ["painted"],
      explain: "Quá khứ đơn (+): Hành động đã kết thúc."
    },
    {
      q: "Perhaps she ______ the meeting. (join)",
      answers: ["will join"],
      explain: "Tương lai đơn: Dự đoán không chắc chắn với 'Perhaps'."
    },
    {
      q: "Rice ______ in tropical countries. (grow)",
      answers: ["grows"],
      explain: "Hiện tại đơn: Sự thật hiển nhiên, Rice không đếm được (số ít)."
    },
    {
      q: "The children ______ very naughty yesterday. (not/be)",
      answers: ["were not", "weren't"],
      explain: "Quá khứ đơn với To be: 'The children' (số nhiều) dùng 'weren't'."
    },
    {
      q: "______ he ______ the gift tomorrow? (receive)",
      answers: ["Will", "receive"],
      explain: "Tương lai đơn (?): Will + S + V?"
    },
    {
      q: "He ______ his keys on the table this morning. (leave)",
      answers: ["left"],
      explain: "Quá khứ đơn (+): Động từ bất quy tắc (leave -> left)."
    },
    {
      q: "My friends ______ me often. (not/call)",
      answers: ["do not call", "don't call"],
      explain: "Hiện tại đơn (-): Chủ ngữ số nhiều dùng 'don't'."
    },
    {
      q: "Where ______ you ______ last summer holiday? (spend)",
      answers: ["did", "spend"],
      explain: "Quá khứ đơn (?): Câu hỏi có từ để hỏi."
    },
    {
      q: "I think people ______ on Mars in the future. (live)",
      answers: ["will live"],
      explain: "Tương lai đơn: Dự đoán tương lai xa."
    },
    {
      q: "The flowers ______ fresh this morning. (be)",
      answers: ["are"],
      explain: "Hiện tại đơn với To be: 'Flowers' số nhiều."
    },
    {
      q: "She ______ a letter to her pen pal yesterday. (write)",
      answers: ["wrote"],
      explain: "Quá khứ đơn (+): write -> wrote."
    },
    {
      q: "______ we ______ dinner out tonight? (have)",
      answers: ["Will", "have"],
      explain: "Tương lai đơn (?): Gợi ý hoặc hỏi về kế hoạch tối nay."
    },
    {
      q: "The sun ______ in the West. (not/rise)",
      answers: ["does not rise", "doesn't rise"],
      explain: "Hiện tại đơn (-): Sự thật hiển nhiên."
    },
    {
      q: "I ______ my teacher at the supermarket yesterday. (meet)",
      answers: ["met"],
      explain: "Quá khứ đơn (+): meet -> met."
    }
  ],

  2: [
    {
      q: "My sister ______ her homework at 8 p.m every day. (finish)",
      answers: ["finishes"],
      explain: "Hiện tại đơn (+): Chủ ngữ số ít (My sister) nên động từ thêm 'es'."
    },
    {
      q: "They ______ to the cinema two days ago. (not/go)",
      answers: ["did not go", "didn't go"],
      explain: "Quá khứ đơn (-): Có dấu hiệu 'ago' -> dùng trợ động từ didn't + V-inf."
    },
    {
      q: "______ you ______ the English club next week? (join)",
      answers: ["Will", "join"],
      explain: "Tương lai đơn (?): Dấu hiệu 'next week' -> dùng Will + S + V-inf?"
    },
    {
      q: "The children ______ very quiet during the lesson yesterday. (be)",
      answers: ["were"],
      explain: "Quá khứ đơn với To be: Chủ ngữ số nhiều (The children) -> dùng were."
    },
    {
      q: "My father ______ coffee for breakfast. (not/drink)",
      answers: ["does not drink", "doesn't drink"],
      explain: "Hiện tại đơn (-): Thói quen, chủ ngữ số ít dùng doesn't."
    },
    {
      q: "I promise I ______ your secret to anyone. (not/tell)",
      answers: ["will not tell", "won't tell"],
      explain: "Tương lai đơn: Lời hứa dùng won't + V-inf."
    },
    {
      q: "______ he ______ a new house in 2020? (buy)",
      answers: ["Did", "buy"],
      explain: "Quá khứ đơn (?): Mốc thời gian 'in 2020' -> dùng Did + S + V-inf?"
    },
    {
      q: "Light ______ faster than sound. (travel)",
      answers: ["travels"],
      explain: "Hiện tại đơn: Sự thật hiển nhiên, chủ ngữ số ít."
    },
    {
      q: "We ______ to the beach if the weather is fine tomorrow. (go)",
      answers: ["will go"],
      explain: "Tương lai đơn: Câu điều kiện loại 1, mệnh đề chính chia tương lai."
    },
    {
      q: "I ______ any birds in the sky last night. (not/see)",
      answers: ["did not see", "didn't see"],
      explain: "Quá khứ đơn (-): see chuyển sang phủ định là didn't see."
    },
    {
      q: "Where ______ she ______ from? (come)",
      answers: ["does", "come"],
      explain: "Hiện tại đơn (?): Hỏi về nguồn gốc, dùng Does cho chủ ngữ 'she'."
    },
    {
      q: "They ______ very happy when they heard the news. (be)",
      answers: ["were"],
      explain: "Quá khứ đơn với To be: Diễn tả trạng thái đã xảy ra."
    },
    {
      q: "The plane ______ off at 10 a.m tomorrow morning. (take)",
      answers: ["takes"],
      explain: "Hiện tại đơn: Diễn tả lịch trình cố định của máy bay/tàu xe."
    },
    {
      q: "______ you ______ me with this exercise, please? (help)",
      answers: ["Will", "help"],
      explain: "Tương lai đơn (?): Lời yêu cầu giúp đỡ lịch sự."
    },
    {
      q: "He ______ his keys on the bus yesterday morning. (forget)",
      answers: ["forgot"],
      explain: "Quá khứ đơn (+): Động từ bất quy tắc (forget -> forgot)."
    },
    {
      q: "It ______ often ______ in this season. (not/rain)",
      answers: ["does not", "rain", "doesn't", "rain"],
      explain: "Hiện tại đơn (-): 'often' là dấu hiệu nhận biết, dùng doesn't cho 'it'."
    },
    {
      q: "I think people ______ more online in the future. (shop)",
      answers: ["will shop"],
      explain: "Tương lai đơn: Dự đoán sau 'I think'."
    },
    {
      q: "______ your teacher ______ angry with you yesterday? (be)",
      answers: ["Was"],
      explain: "Quá khứ đơn với To be (?): Chủ ngữ số ít (your teacher) -> Was."
    },
    {
      q: "We ______ breakfast together every morning. (have)",
      answers: ["have"],
      explain: "Hiện tại đơn (+): Thói quen với chủ ngữ số nhiều."
    },
    {
      q: "She ______ to me for a long time. (not/write)",
      answers: ["did not write", "didn't write"],
      explain: "Quá khứ đơn (-): Hành động đã xảy ra trong quá khứ."
    },
    {
      q: "Maybe they ______ us during their trip. (visit)",
      answers: ["will visit"],
      explain: "Tương lai đơn: Dự đoán có thể xảy ra với 'Maybe'."
    },
    {
      q: "______ the moon ______ around the Earth? (move)",
      answers: ["Does", "move"],
      explain: "Hiện tại đơn (?): Sự thật hiển nhiên, chủ ngữ số ít."
    },
    {
      q: "I ______ a letter to my pen pal last week. (send)",
      answers: ["sent"],
      explain: "Quá khứ đơn (+): Động từ bất quy tắc (send -> sent)."
    },
    {
      q: "The movie ______ very interesting. (not/be)",
      answers: ["is not", "isn't"],
      explain: "Hiện tại đơn với To be: Nhận xét về một vật."
    },
    {
      q: "______ you ______ at home tonight? (stay)",
      answers: ["Will", "stay"],
      explain: "Tương lai đơn (?): Hỏi về kế hoạch tối nay."
    },
    {
      q: "My brother ______ playing video games. (love)",
      answers: ["loves"],
      explain: "Hiện tại đơn (+): Sở thích, chủ ngữ số ít."
    },
    {
      q: "They ______ the competition last year. (not/win)",
      answers: ["did not win", "didn't win"],
      explain: "Quá khứ đơn (-): Dấu hiệu 'last year'."
    },
    {
      q: "Wait! I ______ the door for you. (open)",
      answers: ["will open"],
      explain: "Tương lai đơn: Quyết định ngay tại lúc nói."
    },
    {
      q: "______ your parents ______ at the bank? (work)",
      answers: ["Do", "work"],
      explain: "Hiện tại đơn (?): Chủ ngữ số nhiều dùng Do."
    },
    {
      q: "I ______ my old friend at the supermarket yesterday. (meet)",
      answers: ["met"],
      explain: "Quá khứ đơn (+): Động từ bất quy tắc (meet -> met)."
    },
    {
      q: "It ______ cold tonight, so wear a coat. (be)",
      answers: ["will be"],
      explain: "Tương lai đơn: Dự đoán thời tiết."
    },
    {
      q: "She ______ much about history. (not/know)",
      answers: ["does not know", "doesn't know"],
      explain: "Hiện tại đơn (-): Phủ định khả năng/kiến thức ở hiện tại."
    },
    {
      q: "______ they ______ to the party last night? (come)",
      answers: ["Did", "come"],
      explain: "Quá khứ đơn (?): Câu hỏi có dấu hiệu 'last night'."
    },
    {
      q: "The flowers ______ beautiful in the garden. (be)",
      answers: ["are"],
      explain: "Hiện tại đơn với To be: Miêu tả đặc điểm vật số nhiều."
    },
    {
      q: "Computers ______ more intelligent in 50 years. (become)",
      answers: ["will become"],
      explain: "Tương lai đơn: Dự đoán về tương lai xa."
    },
    {
      q: "We ______ lunch at a restaurant yesterday. (eat)",
      answers: ["ate"],
      explain: "Quá khứ đơn (+): Động từ bất quy tắc (eat -> ate)."
    },
    {
      q: "He ______ his car once a week. (not/wash)",
      answers: ["does not wash", "doesn't wash"],
      explain: "Hiện tại đơn (-): Tần suất thực hiện hành động."
    },
    {
      q: "______ you ______ me the salt, please? (pass)",
      answers: ["Will", "pass"],
      explain: "Tương lai đơn (?): Lời yêu cầu thực hiện hành động."
    },
    {
      q: "My grandparents ______ in a small village many years ago. (live)",
      answers: ["lived"],
      explain: "Quá khứ đơn (+): Động từ có quy tắc thêm 'ed'."
    },
    {
      q: "How many languages ______ she ______? (speak)",
      answers: ["does", "speak"],
      explain: "Hiện tại đơn (?): Hỏi về khả năng của một người."
    },
    {
      q: "The train ______ at the station ten minutes ago. (arrive)",
      answers: ["arrived"],
      explain: "Quá khứ đơn (+): Dấu hiệu 'ago'."
    },
    {
      q: "I ______ the window. It's too hot in here. (open)",
      answers: ["will open"],
      explain: "Tương lai đơn: Quyết định tức thì."
    },
    {
      q: "They ______ busy tomorrow morning. (not/be)",
      answers: ["will not be", "won't be"],
      explain: "Tương lai đơn (-): Phủ định của trạng thái trong tương lai."
    },
    {
      q: "______ he ______ you a gift on your last birthday? (give)",
      answers: ["Did", "give"],
      explain: "Quá khứ đơn (?): Hỏi về sự việc đã qua."
    },
    {
      q: "We ______ vegetables in our garden every spring. (plant)",
      answers: ["plant"],
      explain: "Hiện tại đơn (+): Hành động lặp lại hằng năm."
    },
    {
      q: "The museum ______ on Mondays. (not/open)",
      answers: ["does not open", "doesn't open"],
      explain: "Hiện tại đơn (-): Quy định/Lịch trình của một nơi."
    },
    {
      q: "I ______ my homework before dinner yesterday. (finish)",
      answers: ["finished"],
      explain: "Quá khứ đơn (+): Động từ có quy tắc."
    },
    {
      q: "Who ______ the next president? (be)",
      answers: ["will be"],
      explain: "Tương lai đơn (?): Câu hỏi dự đoán tương lai."
    },
    {
      q: "______ your brother ______ dogs? (fear)",
      answers: ["Does", "fear"],
      explain: "Hiện tại đơn (?): Hỏi về tâm lý/cảm xúc ở hiện tại."
    },
    {
      q: "They ______ their house last month. (sell)",
      answers: ["sold"],
      explain: "Quá khứ đơn (+): Động từ bất quy tắc (sell -> sold)."
    }
  ],

  3: [
    {
      q: "Look! The bus ______. (come)",
      answers: ["is coming"],
      explain: "Hiện tại tiếp diễn: Có từ 'Look!' báo hiệu hành động đang xảy ra."
    },
    {
      q: "At 8 p.m yesterday, I ______ my homework. (do)",
      answers: ["was doing"],
      explain: "Quá khứ tiếp diễn: Hành động đang xảy ra tại thời điểm xác định trong quá khứ."
    },
    {
      q: "They ______ a movie at the moment. (not/watch)",
      answers: ["are not watching", "aren't watching"],
      explain: "Hiện tại tiếp diễn (-): Dấu hiệu 'at the moment'."
    },
    {
      q: "______ you ______ when I called you last night? (sleep)",
      answers: ["Were", "sleeping"],
      explain: "Quá khứ tiếp diễn (?): Hành động đang diễn ra thì có hành động khác xen vào."
    },
    {
      q: "Listen! Someone ______ at the door. (knock)",
      answers: ["is knocking"],
      explain: "Hiện tại tiếp diễn: Dấu hiệu 'Listen!'."
    },
    {
      q: "She ______ her lunch when the phone rang. (have)",
      answers: ["was having"],
      explain: "Quá khứ tiếp diễn: Hành động đang diễn ra (ăn trưa) thì bị cắt ngang (điện thoại reo)."
    },
    {
      q: "Where ______ they ______ now? (go)",
      answers: ["are", "going"],
      explain: "Hiện tại tiếp diễn (?): Dấu hiệu 'now'."
    },
    {
      q: "I ______ TV at 9 o'clock last night. (not/watch)",
      answers: ["was not watching", "wasn't watching"],
      explain: "Quá khứ tiếp diễn (-): Thời điểm cụ thể trong quá khứ."
    },
    {
      q: "Be quiet! The baby ______. (sleep)",
      answers: ["is sleeping"],
      explain: "Hiện tại tiếp diễn: Yêu cầu giữ im lặng vì hành động đang diễn ra."
    },
    {
      q: "While my mother was cooking, my father ______ the garden. (water)",
      answers: ["was watering"],
      explain: "Quá khứ tiếp diễn: Hai hành động xảy ra song song trong quá khứ."
    },
    {
      q: "______ it ______ outside right now? (rain)",
      answers: ["Is", "raining"],
      explain: "Hiện tại tiếp diễn (?): Dấu hiệu 'right now'."
    },
    {
      q: "We ______ along the street when the accident happened. (walk)",
      answers: ["were walking"],
      explain: "Quá khứ tiếp diễn: Hành động nền đang diễn ra."
    },
    {
      q: "Keep silent! I ______ to the news. (listen)",
      answers: ["am listening"],
      explain: "Hiện tại tiếp diễn: Hành động đang thực hiện tại lúc nói."
    },
    {
      q: "She ______ at 10 p.m yesterday. (not/work)",
      answers: ["was not working", "wasn't working"],
      explain: "Quá khứ tiếp diễn (-): Thời điểm xác định trong quá khứ."
    },
    {
      q: "______ she ______ her flowers in the garden now? (plant)",
      answers: ["Is", "planting"],
      explain: "Hiện tại tiếp diễn (?): Dấu hiệu 'now'."
    },
    {
      q: "What ______ you ______ at this time last Sunday? (do)",
      answers: ["were", "doing"],
      explain: "Quá khứ tiếp diễn (?): 'at this time last Sunday' là mốc thời gian cụ thể."
    },
    {
      q: "They ______ for the bus at the stop. (stand)",
      answers: ["are standing"],
      explain: "Hiện tại tiếp diễn: Miêu tả hành động đang thấy trước mắt."
    },
    {
      q: "The sun ______ when I woke up this morning. (shine)",
      answers: ["was shining"],
      explain: "Quá khứ tiếp diễn: Miêu tả bối cảnh tại một thời điểm trong quá khứ."
    },
    {
      q: "I ______ anything right bây giờ. (not/read)",
      answers: ["am not reading"],
      explain: "Hiện tại tiếp diễn (-): Dấu hiệu 'right now'."
    },
    {
      q: "______ the students ______ the lesson when the teacher came in? (discuss)",
      answers: ["Were", "discussing"],
      explain: "Quá khứ tiếp diễn (?): Hành động đang diễn ra thì bị cắt ngang."
    },
    {
      q: "Look! Those birds ______ to the South. (fly)",
      answers: ["are flying"],
      explain: "Hiện tại tiếp diễn (+): Hành động đang diễn ra trước mắt."
    },
    {
      q: "At this time last year, we ______ in Paris. (live)",
      answers: ["were living"],
      explain: "Quá khứ tiếp diễn: Diễn tả sự việc đang xảy ra tại một thời điểm cụ thể."
    },
    {
      q: "My brother ______ always ______ his dirty clothes on the floor! (leave)",
      answers: ["is", "leaving"],
      explain: "Hiện tại tiếp diễn với 'always': Phàn nàn về một thói quen xấu."
    },
    {
      q: "The light went out while I ______ dinner. (have)",
      answers: ["was having"],
      explain: "Quá khứ tiếp diễn: Hành động đang xảy ra (ăn tối) thì bị cắt ngang (mất điện)."
    },
    {
      q: "______ your mother ______ a cake in the kitchen now? (bake)",
      answers: ["Is", "baking"],
      explain: "Hiện tại tiếp diễn (?): Hành động đang diễn ra."
    },
    {
      q: "They ______ when the fire started. (not/sleep)",
      answers: ["were not sleeping", "weren't sleeping"],
      explain: "Quá khứ tiếp diễn (-): Hành động không đang diễn ra tại thời điểm đó."
    },
    {
      q: "Hurry up! Everyone ______ for you. (wait)",
      answers: ["is waiting"],
      explain: "Hiện tại tiếp diễn: Hành động đang kéo dài đến hiện tại."
    },
    {
      q: "I ______ down the street when I saw an old friend. (walk)",
      answers: ["was walking"],
      explain: "Quá khứ tiếp diễn: Hành động đang diễn ra trong quá khứ."
    },
    {
      q: "______ you ______ to music at the moment? (listen)",
      answers: ["Are", "listening"],
      explain: "Hiện tại tiếp diễn (?): Câu hỏi về hành động ngay bây giờ."
    },
    {
      q: "We ______ the house when it started to rain. (paint)",
      answers: ["were painting"],
      explain: "Quá khứ tiếp diễn: Hành động đang tiến hành."
    },
    {
      q: "She ______ her math exercise now. (not/do)",
      answers: ["is not doing", "isn't doing"],
      explain: "Hiện tại tiếp diễn (-): Phủ định hành động đang xảy ra."
    },
    {
      q: "What ______ he ______ at 7 a.m this morning? (do)",
      answers: ["was", "doing"],
      explain: "Quá khứ tiếp diễn (?): Thời điểm cụ thể trong quá khứ."
    },
    {
      q: "Listen! The girl ______ a beautiful song. (sing)",
      answers: ["is singing"],
      explain: "Hiện tại tiếp diễn: Dấu hiệu 'Listen!'."
    },
    {
      q: "My sisters ______ with their dolls when I came home. (not/play)",
      answers: ["were not playing", "weren't playing"],
      explain: "Quá khứ tiếp diễn (-): Phủ định hành động đang diễn ra tại quá khứ."
    },
    {
      q: "______ the wind ______ hard right now? (blow)",
      answers: ["Is", "blowing"],
      explain: "Hiện tại tiếp diễn (?): Dấu hiệu 'right now'."
    },
    {
      q: "I ______ about you when you called. (think)",
      answers: ["was thinking"],
      explain: "Quá khứ tiếp diễn: Hành động đang xảy ra tại thời điểm đó."
    },
    {
      q: "The children ______ their kites in the field now. (fly)",
      answers: ["are flying"],
      explain: "Hiện tại tiếp diễn (+): Dấu hiệu 'now'."
    },
    {
      q: "At this time yesterday, they ______ football. (play)",
      answers: ["were playing"],
      explain: "Quá khứ tiếp diễn: Hành động đang diễn ra tại thời điểm cụ thể hôm qua."
    },
    {
      q: "______ he ______ a book in his room now? (read)",
      answers: ["Is", "reading"],
      explain: "Hiện tại tiếp diễn (?): Câu hỏi có dấu hiệu 'now'."
    },
    {
      q: "It ______ when we left the house. (not/snow)",
      answers: ["was not snowing", "wasn't snowing"],
      explain: "Quá khứ tiếp diễn (-): Miêu tả thời tiết lúc đó."
    },
    {
      q: "Look! The cat ______ up the tree. (climb)",
      answers: ["is climbing"],
      explain: "Hiện tại tiếp diễn: Hành động đang chứng kiến."
    },
    {
      q: "While I was studying, my roommate ______ to loud music. (listen)",
      answers: ["was listening"],
      explain: "Quá khứ tiếp diễn: Hai hành động song song."
    },
    {
      q: "Where ______ you ______ your summer holiday this year? (spend)",
      answers: ["are", "spending"],
      explain: "Hiện tại tiếp diễn: Dùng để nói về một kế hoạch chắc chắn trong tương lai gần."
    },
    {
      q: "The kids ______ too much noise while their dad was working. (make)",
      answers: ["were making"],
      explain: "Quá khứ tiếp diễn: Hành động kéo dài trong một khoảng thời gian ở quá khứ."
    },
    {
      q: "______ you ______ your dinner now? (have)",
      answers: ["Are", "having"],
      explain: "Hiện tại tiếp diễn (?): Hỏi về hành động đang thực hiện."
    },
    {
      q: "The car ______ when the tyre burst. (not/move)",
      answers: ["was not moving", "wasn't moving"],
      explain: "Quá khứ tiếp diễn (-): Phủ định trạng thái đang diễn ra."
    },
    {
      q: "Hurry! The train ______. (leave)",
      answers: ["is leaving"],
      explain: "Hiện tại tiếp diễn: Hành động sắp xảy ra hoặc đang bắt đầu."
    },
    {
      q: "What ______ she ______ when the lights went out? (cook)",
      answers: ["was", "cooking"],
      explain: "Quá khứ tiếp diễn (?): Hỏi về hành động đang diễn ra thì bị cắt ngang."
    },
    {
      q: "I ______ my English lesson at the moment. (not/study)",
      answers: ["am not studying"],
      explain: "Hiện tại tiếp diễn (-): Dấu hiệu 'at the moment'."
    },
    {
      q: "______ they ______ at the park when you saw them? (run)",
      answers: ["Were", "running"],
      explain: "Quá khứ tiếp diễn (?): Hành động đang diễn ra tại thời điểm đó."
    }
  ],

  4: [
    {
      q: "The students ______ a test in the classroom right now. (take)",
      answers: ["are taking"],
      explain: "Hiện tại tiếp diễn (+): Dấu hiệu 'right now'."
    },
    {
      q: "I ______ my bike when it started to rain. (ride)",
      answers: ["was riding"],
      explain: "Quá khứ tiếp diễn: Hành động đang diễn ra thì hành động khác (started) xen vào."
    },
    {
      q: "______ your sister ______ her room at the moment? (clean)",
      answers: ["Is", "cleaning"],
      explain: "Hiện tại tiếp diễn (?): Dấu hiệu 'at the moment'."
    },
    {
      q: "They ______ about the project at 9 p.m last night. (not/talk)",
      answers: ["were not talking", "weren't talking"],
      explain: "Quá khứ tiếp diễn (-): Thời điểm xác định trong quá khứ."
    },
    {
      q: "Look! The stars ______ brightly in the sky. (shine)",
      answers: ["are shining"],
      explain: "Hiện tại tiếp diễn: Hành động đang diễn ra tại thời điểm nói."
    },
    {
      q: "While my brother was playing games, I ______ a book. (read)",
      answers: ["was reading"],
      explain: "Quá khứ tiếp diễn: Hai hành động xảy ra song song."
    },
    {
      q: "Where ______ you ______ when I saw you this morning? (go)",
      answers: ["were", "going"],
      explain: "Quá khứ tiếp diễn (?): Hành động đang diễn ra tại một thời điểm trong quá khứ."
    },
    {
      q: "He ______ his breakfast right now. (not/have)",
      answers: ["is not having", "isn't having"],
      explain: "Hiện tại tiếp diễn (-): Dấu hiệu 'right now'."
    },
    {
      q: "Listen! The teacher ______ something important. (say)",
      answers: ["is saying"],
      explain: "Hiện tại tiếp diễn: Hành động đang xảy ra dựa trên mệnh lệnh cách 'Listen!'."
    },
    {
      q: "______ it ______ when you left the office? (snow)",
      answers: ["Was", "snowing"],
      explain: "Quá khứ tiếp diễn (?): Hỏi về thời tiết đang diễn ra lúc đó."
    },
    {
      q: "We ______ for the bus at this time yesterday. (wait)",
      answers: ["were waiting"],
      explain: "Quá khứ tiếp diễn: Thời điểm xác định 'at this time yesterday'."
    },
    {
      q: "My cat ______ on the sofa now. (not/sleep)",
      answers: ["is not sleeping", "isn't sleeping"],
      explain: "Hiện tại tiếp diễn (-): Dấu hiệu 'now'."
    },
    {
      q: "They ______ trees in the garden while we were cleaning the house. (plant)",
      answers: ["were planting"],
      explain: "Quá khứ tiếp diễn: Hành động song song với 'while'."
    },
    {
      q: "What ______ those people ______ over there? (do)",
      answers: ["are", "doing"],
      explain: "Hiện tại tiếp diễn (?): Hỏi về hành động đang quan sát thấy."
    },
    {
      q: "I ______ to the radio when the phone rang. (not/listen)",
      answers: ["was not listening", "wasn't listening"],
      explain: "Quá khứ tiếp diễn (-): Trạng thái đang diễn ra thì bị cắt ngang."
    },
    {
      q: "The wind ______ very hard at the moment. (blow)",
      answers: ["is blowing"],
      explain: "Hiện tại tiếp diễn: Dấu hiệu 'at the moment'."
    },
    {
      q: "At 10 o'clock last Sunday, ______ you ______ to church? (go)",
      answers: ["were", "going"],
      explain: "Quá khứ tiếp diễn (?): Thời điểm xác định trong quá khứ."
    },
    {
      q: "She ______ her keys! She is so careless. (always/lose)",
      answers: ["is always losing"],
      explain: "Hiện tại tiếp diễn với 'always': Phàn nàn về một thói quen gây khó chịu."
    },
    {
      q: "The sun ______ behind the clouds now. (hide)",
      answers: ["is hiding"],
      explain: "Hiện tại tiếp diễn: Miêu tả trạng thái đang diễn ra."
    },
    {
      q: "My parents ______ the living room when the guests arrived. (decorate)",
      answers: ["were decorating"],
      explain: "Quá khứ tiếp diễn: Hành động đang xảy ra thì khách đến."
    },
    {
      q: "______ your friends ______ in the pool right bây giờ? (swim)",
      answers: ["Are", "swimming"],
      explain: "Hiện tại tiếp diễn (?): Dấu hiệu 'right now'."
    },
    {
      q: "I ______ the road when the light changed to red. (not/cross)",
      answers: ["was not crossing", "wasn't crossing"],
      explain: "Quá khứ tiếp diễn (-): Phủ định hành động đang xảy ra tại quá khứ."
    },
    {
      q: "The chief ______ dinner for us now. (prepare)",
      answers: ["is preparing"],
      explain: "Hiện tại tiếp diễn: Hành động đang xảy ra."
    },
    {
      q: "What ______ he ______ when you came to his house? (do)",
      answers: ["was", "doing"],
      explain: "Quá khứ tiếp diễn (?): Hành động đang diễn ra bị cắt ngang bởi 'came'."
    },
    {
      q: "Listen! Someone ______ a guitar in the next room. (play)",
      answers: ["is playing"],
      explain: "Hiện tại tiếp diễn: Dấu hiệu 'Listen!'."
    },
    {
      q: "While I was washing dishes, the cat ______ my fish. (eat)",
      answers: ["was eating"],
      explain: "Quá khứ tiếp diễn: Hai hành động cùng xảy ra một lúc."
    },
    {
      q: "The workers ______ the road this week. (repair)",
      answers: ["are repairing"],
      explain: "Hiện tại tiếp diễn: Hành động tạm thời xảy ra xung quanh thời điểm nói (this week)."
    },
    {
      q: "We ______ when the earthquake happened. (not/dance)",
      answers: ["were not dancing", "weren't dancing"],
      explain: "Quá khứ tiếp diễn (-): Phủ định hành động tại thời điểm quá khứ."
    },
    {
      q: "______ the birds ______ to the South for winter now? (migrate)",
      answers: ["Are", "migrating"],
      explain: "Hiện tại tiếp diễn (?): Hành động đang diễn ra."
    },
    {
      q: "I ______ about my childhood when I saw that old photo. (think)",
      answers: ["was thinking"],
      explain: "Quá khứ tiếp diễn: Cảm xúc/suy nghĩ đang diễn ra tại một thời điểm."
    },
    {
      q: "Be quiet! Your father ______ in his office. (work)",
      answers: ["is working"],
      explain: "Hiện tại tiếp diễn: Dấu hiệu 'Be quiet!'."
    },
    {
      q: "______ you ______ lunch when I called? (have)",
      answers: ["Were", "having"],
      explain: "Quá khứ tiếp diễn (?): Hành động đang diễn ra bị cắt ngang."
    },
    {
      q: "The children ______ very fast in the garden now. (run)",
      answers: ["are running"],
      explain: "Hiện tại tiếp diễn: Dấu hiệu 'now'."
    },
    {
      q: "The moon ______ behind the trees last night. (not/shine)",
      answers: ["was not shining", "wasn't shining"],
      explain: "Quá khứ tiếp diễn (-): Miêu tả bối cảnh đêm qua."
    },
    {
      q: "______ she ______ a new dress for the party tonight? (wear)",
      answers: ["Is", "wearing"],
      explain: "Hiện tại tiếp diễn (?): Hỏi về hành động đang/sắp diễn ra."
    },
    {
      q: "They ______ to each other when the teacher entered. (not/whisper)",
      answers: ["were not whispering", "weren't whispering"],
      explain: "Quá khứ tiếp diễn (-): Phủ định hành động đang xảy ra."
    },
    {
      q: "The water ______ in the pot right bây giờ. (boil)",
      answers: ["is boiling"],
      explain: "Hiện tại tiếp diễn: Hành động đang diễn ra trước mắt."
    },
    {
      q: "What ______ your sister ______ at this time yesterday morning? (do)",
      answers: ["was", "doing"],
      explain: "Quá khứ tiếp diễn (?): Mốc thời gian cụ thể."
    },
    {
      q: "Hurry! The taxi ______. (wait)",
      answers: ["is waiting"],
      explain: "Hiện tại tiếp diễn: Hành động đang xảy ra tại hiện tại."
    },
    {
      q: "We ______ for the exam at 10 p.m last night. (not/study)",
      answers: ["were not studying", "weren't studying"],
      explain: "Quá khứ tiếp diễn (-): Thời điểm cụ thể đêm qua."
    },
    {
      q: "______ the sun ______ right now? (set)",
      answers: ["Is", "setting"],
      explain: "Hiện tại tiếp diễn (?): Dấu hiệu 'right now'."
    },
    {
      q: "The boy ______ down while he was running. (fall)",
      answers: ["fell"],
      explain: "Quá khứ đơn: Cảnh báo! Đây là hành động cắt ngang (xen kẽ quá khứ đơn trong bài tiếp diễn)."
    },
    {
      q: "I ______ my car when I found my old wallet. (clean)",
      answers: ["was cleaning"],
      explain: "Quá khứ tiếp diễn: Hành động nền đang diễn ra."
    },
    {
      q: "Those babies ______! Can you check on them? (cry)",
      answers: ["are crying"],
      explain: "Hiện tại tiếp diễn: Hành động đang xảy ra nghe thấy được."
    },
    {
      q: "______ she ______ her dinner at 7 p.m yesterday? (eat)",
      answers: ["Was", "eating"],
      explain: "Quá khứ tiếp diễn (?): Thời điểm cụ thể."
    },
    {
      q: "The flowers ______ in the garden. They look thirsty. (die)",
      answers: ["are dying"],
      explain: "Hiện tại tiếp diễn: Diễn tả một quá trình đang diễn ra."
    },
    {
      q: "I ______ to music, so I didn't hear the doorbell. (listen)",
      answers: ["was listening"],
      explain: "Quá khứ tiếp diễn: Giải thích lý do tại sao không nghe thấy (vì lúc đó đang nghe nhạc)."
    },
    {
      q: "______ you ______ any noise outside at the moment? (make)",
      answers: ["Are", "making"],
      explain: "Hiện tại tiếp diễn (?): Hỏi về hành động ngay bây giờ."
    },
    {
      q: "It ______ when they were driving to the beach. (not/rain)",
      answers: ["was not raining", "wasn't raining"],
      explain: "Quá khứ tiếp diễn (-): Miêu tả trạng thái song song."
    },
    {
      q: "The population of the world ______ very fast. (increase)",
      answers: ["is increasing"],
      explain: "Hiện tại tiếp diễn: Diễn tả một sự thay đổi, phát triển theo hướng đi lên."
    }
  ],


  5: [
    {
      q: "I ______ this movie three times. (see)",
      answers: ["have seen"],
      explain: "Hiện tại hoàn thành (+): Trải nghiệm tính đến hiện tại (three times)."
    },
    {
      q: "They ______ their project yet. (not/finish)",
      answers: ["have not finished", "haven't finished"],
      explain: "Hiện tại hoàn thành (-): Dấu hiệu 'yet' dùng trong câu phủ định."
    },
    {
      q: "She ______ in this city since she was a child. (live)",
      answers: ["has lived"],
      explain: "Hiện tại hoàn thành (+): Dấu hiệu 'since' + mốc thời gian."
    },
    {
      q: "We ______ each other for ten years. (know)",
      answers: ["have known"],
      explain: "Hiện tại hoàn thành (+): Dấu hiệu 'for' + khoảng thời gian."
    },
    {
      q: "______ you ever ______ to Paris? (be)",
      answers: ["Have", "been"],
      explain: "Hiện tại hoàn thành (?): Dấu hiệu 'ever' hỏi về trải nghiệm."
    },
    {
      q: "My sister ______ a lot of photos so far. (take)",
      answers: ["has taken"],
      explain: "Hiện tại hoàn thành (+): Dấu hiệu 'so far' (cho đến nay)."
    },
    {
      q: "He ______ (not/be) to the dentist for ages. (be)",
      answers: ["has not been", "hasn't been"],
      explain: "Hiện tại hoàn thành (-): Dấu hiệu 'for ages' (đã lâu rồi)."
    },
    {
      q: "This is the first time I ______ this kind of food. (eat)",
      answers: ["have eaten"],
      explain: "Hiện tại hoàn thành: Cấu trúc 'This is the first time...'."
    },
    {
      q: "How many books ______ you ______ lately? (read)",
      answers: ["have", "read"],
      explain: "Hiện tại hoàn thành (?): Dấu hiệu 'lately' (gần đây)."
    },
    {
      q: "I ______ never ______ such a beautiful girl. (see)",
      answers: ["have", "seen"],
      explain: "Hiện tại hoàn thành (+): Dấu hiệu 'never' diễn tả trải nghiệm chưa từng làm gì."
    },
    {
      q: "We ______ this car since 2015. (have)",
      answers: ["have had"],
      explain: "Hiện tại hoàn thành (+): Dấu hiệu 'since', V3 của 'have' là 'had'."
    },
    {
      q: "______ you ______ your lunch yet? (have)",
      answers: ["Have", "had"],
      explain: "Hiện tại hoàn thành (?): Câu hỏi với 'yet'."
    },
    {
      q: "Up to now, we ______ any problems. (not/have)",
      answers: ["have not had", "haven't had"],
      explain: "Hiện tại hoàn thành (-): Dấu hiệu 'Up to now'."
    },
    {
      q: "My parents ______ just ______ from their holiday. (return)",
      answers: ["have", "returned"],
      explain: "Hiện tại hoàn thành (+): Dấu hiệu 'just' (vừa mới)."
    },
    {
      q: "It ______ for two days. (not/rain)",
      answers: ["has not rained", "hasn't rained"],
      explain: "Hiện tại hoàn thành (-): Khoảng thời gian 'for + số lượng'."
    },
    {
      q: "How many times ______ she ______ her password? (change)",
      answers: ["has", "changed"],
      explain: "Hiện tại hoàn thành (?): Hỏi về số lần thực hiện hành động."
    },
    {
      q: "They ______ (not/visit) us since we moved here. (visit)",
      answers: ["have not visited", "haven't visited"],
      explain: "Hiện tại hoàn thành (-): Cấu trúc với 'since'."
    },
    {
      q: "I ______ the key! I can't find it anywhere. (lose)",
      answers: ["have lost"],
      explain: "Hiện tại hoàn thành (+): Hành động vừa xảy ra để lại kết quả ở hiện tại."
    },
    {
      q: "We ______ (not/play) tennis for several weeks. (play)",
      answers: ["have not played", "haven't played"],
      explain: "Hiện tại hoàn thành (-): Khoảng thời gian 'for several weeks'."
    },
    {
      q: "______ your father ______ home yet? (come)",
      answers: ["Has", "come"],
      explain: "Hiện tại hoàn thành (?): Dấu hiệu 'yet' dùng cuối câu hỏi."
    },
    {
      q: "I ______ to that restaurant many times. (be)",
      answers: ["have been"],
      explain: "Hiện tại hoàn thành (+): Diễn tả số lần trải nghiệm."
    },
    {
      q: "It's the most interesting book I ______ ever ______. (read)",
      answers: ["have", "read"],
      explain: "Hiện tại hoàn thành: Dùng sau cấu trúc so sánh nhất."
    },
    {
      q: "They ______ in the same house for 20 years. (live)",
      answers: ["have lived"],
      explain: "Hiện tại hoàn thành (+): Hành động kéo dài đến hiện tại."
    },
    {
      q: "I ______ (not/decide) what to do yet. (decide)",
      answers: ["have not decided", "haven't decided"],
      explain: "Hiện tại hoàn thành (-): Dấu hiệu 'yet'."
    },
    {
      q: "______ she ______ from him recently? (hear)",
      answers: ["Has", "heard"],
      explain: "Hiện tại hoàn thành (?): Dấu hiệu 'recently'."
    },
    {
      q: "My brother ______ just ______ his homework. (finish)",
      answers: ["has", "finished"],
      explain: "Hiện tại hoàn thành (+): Dấu hiệu 'just' đứng sau 'has'."
    },
    {
      q: "We ______ (not/see) her since last week. (see)",
      answers: ["have not seen", "haven't seen"],
      explain: "Hiện tại hoàn thành (-): Dấu hiệu 'since last week'."
    },
    {
      q: "______ you ______ the letter already? (post)",
      answers: ["Have", "posted"],
      explain: "Hiện tại hoàn thành (?): Dấu hiệu 'already' (đã... rồi)."
    },
    {
      q: "He ______ (not/read) that book before. (read)",
      answers: ["has not read", "hasn't read"],
      explain: "Hiện tại hoàn thành (-): Dấu hiệu 'before' (trước đây)."
    },
    {
      q: "She ______ her leg, so she can't walk. (break)",
      answers: ["has broken"],
      explain: "Hiện tại hoàn thành (+): Sự việc quá khứ ảnh hưởng hiện tại."
    },
    {
      q: "______ the rain ______ yet? (stop)",
      answers: ["Has", "stopped"],
      explain: "Hiện tại hoàn thành (?): Dấu hiệu 'yet'."
    },
    {
      q: "I ______ (not/meet) him for a long time. (meet)",
      answers: ["have not met", "haven't met"],
      explain: "Hiện tại hoàn thành (-): Dấu hiệu 'for a long time'."
    },
    {
      q: "They ______ many new words this week. (learn)",
      answers: ["have learned", "have learnt"],
      explain: "Hiện tại hoàn thành (+): Khoảng thời gian chưa kết thúc (this week)."
    },
    {
      q: "______ you ______ your room recently? (clean)",
      answers: ["Have", "cleaned"],
      explain: "Hiện tại hoàn thành (?): Dấu hiệu 'recently'."
    },
    {
      q: "It ______ (not/be) cold this month. (be)",
      answers: ["has not been", "hasn't been"],
      explain: "Hiện tại hoàn thành (-): Chủ ngữ 'It' đi với 'hasn't'."
    },
    {
      q: "My parents ______ (already/buy) a new car. (buy)",
      answers: ["have already bought"],
      explain: "Hiện tại hoàn thành (+): 'Already' đứng giữa trợ động từ và V3."
    },
    {
      q: "How long ______ she ______ for this company? (work)",
      answers: ["has", "worked"],
      explain: "Hiện tại hoàn thành (?): Dùng 'How long' để hỏi về khoảng thời gian."
    },
    {
      q: "I ______ (not/receive) any letters so far. (receive)",
      answers: ["have not received", "haven't received"],
      explain: "Hiện tại hoàn thành (-): Dấu hiệu 'so far'."
    },
    {
      q: "The cat ______ its food already. (eat)",
      answers: ["has eaten"],
      explain: "Hiện tại hoàn thành (+): Chủ ngữ số ít dùng 'has'."
    },
    {
      q: "______ they ______ to the cinema before? (be)",
      answers: ["Have", "been"],
      explain: "Hiện tại hoàn thành (?): Hỏi về kinh nghiệm trước đây."
    },
    {
      q: "He ______ (not/talk) to me since Monday. (talk)",
      answers: ["has not talked", "hasn't talked"],
      explain: "Hiện tại hoàn thành (-): Dấu hiệu 'since' + thứ."
    },
    {
      q: "We ______ (already/finish) the project. (finish)",
      answers: ["have already finished"],
      explain: "Hiện tại hoàn thành (+): 'Already' nhấn mạnh việc đã xong."
    },
    {
      q: "______ you ______ my glasses anywhere? (see)",
      answers: ["Have", "seen"],
      explain: "Hiện tại hoàn thành (?): Hỏi về hành động vừa xảy ra."
    },
    {
      q: "She ______ (never/travel) by plane before. (travel)",
      answers: ["has never traveled", "has never travelled"],
      explain: "Hiện tại hoàn thành (+): Trải nghiệm 'chưa bao giờ'."
    },
    {
      q: "The weather ______ (be) very good lately. (be)",
      answers: ["has been"],
      explain: "Hiện tại hoàn thành (+): Dấu hiệu 'lately'."
    },
    {
      q: "I ______ (not/finish) reading the news yet. (finish)",
      answers: ["have not finished", "haven't finished"],
      explain: "Hiện tại hoàn thành (-): Dấu hiệu 'yet'."
    },
    {
      q: "______ she ______ her dinner yet? (have)",
      answers: ["Has", "had"],
      explain: "Hiện tại hoàn thành (?): V3 của 'have' là 'had'."
    },
    {
      q: "They ______ (not/play) together for ages. (play)",
      answers: ["have not played", "haven't played"],
      explain: "Hiện tại hoàn thành (-): Dấu hiệu 'for ages'."
    },
    {
      q: "My teacher ______ just ______ the classroom. (leave)",
      answers: ["has", "left"],
      explain: "Hiện tại hoàn thành (+): Hành động vừa mới diễn ra."
    },
    {
      q: "______ you ______ this movie before? (watch)",
      answers: ["Have", "watched"],
      explain: "Hiện tại hoàn thành (?): Hỏi về trải nghiệm xem phim."
    }
  ],

  6: [
    {
      q: "Look at those black clouds! It ______ rain. (be going to)",
      answers: ["is going to"],
      explain: "Tương lai gần: Dự đoán dựa trên căn cứ hiện tại (mây đen)."
    },
    {
      q: "I ______ my old teacher at the market yesterday. (meet)",
      answers: ["met"],
      explain: "Quá khứ đơn: Hành động đã xảy ra và chấm dứt (yesterday)."
    },
    {
      q: "Listen! The birds ______ in the garden. (sing)",
      answers: ["are singing"],
      explain: "Hiện tại tiếp diễn: Hành động đang xảy ra (Listen!)."
    },
    {
      q: "We ______ to Da Lat next summer. (travel)",
      answers: ["will travel"],
      explain: "Tương lai đơn: Dự định sẽ làm trong tương lai."
    },
    {
      q: "She ______ her keys! She is always so forgetful. (always/lose)",
      answers: ["is always losing"],
      explain: "Hiện tại tiếp diễn + always: Phàn nàn về một thói quen xấu."
    },
    {
      q: "I ______ my homework yet. (not/finish)",
      answers: ["have not finished", "haven't finished"],
      explain: "Hiện tại hoàn thành: Dấu hiệu 'yet' trong câu phủ định."
    },
    {
      q: "______ he ______ his car at 8 a.m yesterday? (wash)",
      answers: ["Was", "washing"],
      explain: "Quá khứ tiếp diễn: Hành động đang xảy ra tại thời điểm cụ thể trong quá khứ."
    },
    {
      q: "I ______ a movie tonight. I bought the tickets. (watch)",
      answers: ["am going to watch"],
      explain: "Tương lai gần: Dự định đã có kế hoạch/chuẩn bị (bought tickets)."
    },
    {
      q: "Water ______ at 100 degrees Celsius. (boil)",
      answers: ["boils"],
      explain: "Hiện tại đơn: Sự thật hiển nhiên."
    },
    {
      q: "______ you ______ to the party last night? (go)",
      answers: ["Did", "go"],
      explain: "Quá khứ đơn: Câu hỏi cho sự việc đã qua."
    },
    {
      q: "He ______ any coffee since last week. (not/drink)",
      answers: ["has not drunk", "hasn't drunk"],
      explain: "Hiện tại hoàn thành: Dấu hiệu 'since'."
    },
    {
      q: "Be quiet! My baby ______. (sleep)",
      answers: ["is sleeping"],
      explain: "Hiện tại tiếp diễn: Hành động đang diễn ra."
    },
    {
      q: "We ______ (not/be) at home when you called. (be)",
      answers: ["were not", "weren't"],
      explain: "Quá khứ đơn với To be: Trạng thái tại một thời điểm quá khứ."
    },
    {
      q: "What ______ you ______ at this time next Sunday? (do)",
      answers: ["will", "be doing"],
      explain: "Tương lai tiếp diễn (Nâng cao): Hành động đang xảy ra tại thời điểm cụ thể ở tương lai."
    },
    {
      q: "I ______ the report by the time the meeting starts. (finish)",
      answers: ["will have finished"],
      explain: "Tương lai hoàn thành: Hoàn thành trước một mốc ở tương lai."
    },
    {
      q: "She ______ her exercise now. (not/do)",
      answers: ["is not doing", "isn't doing"],
      explain: "Hiện tại tiếp diễn: Dấu hiệu 'now'."
    },
    {
      q: "______ your mother ______ a cake for the party tomorrow? (make)",
      answers: ["Is", "going to make"],
      explain: "Tương lai gần: Hỏi về một dự định đã định sẵn."
    },
    {
      q: "The sun ______ in the East. (rise)",
      answers: ["rises"],
      explain: "Hiện tại đơn: Chân lý/Sự thật hiển nhiên."
    },
    {
      q: "I ______ my old friend while I was walking in the park. (see)",
      answers: ["saw"],
      explain: "Quá khứ đơn: Hành động cắt ngang một hành động đang diễn ra."
    },
    {
      q: "______ you ever ______ such a beautiful girl? (meet)",
      answers: ["Have", "met"],
      explain: "Hiện tại hoàn thành: Trải nghiệm 'ever'."
    },
    {
      q: "They ______ a new house next month. They've saved enough money. (buy)",
      answers: ["are going to buy"],
      explain: "Tương lai gần: Dự định có sự chuẩn bị kỹ lưỡng."
    },
    {
      q: "At 9 p.m yesterday, we ______ a football match. (watch)",
      answers: ["were watching"],
      explain: "Quá khứ tiếp diễn: Thời điểm cụ thể trong quá khứ."
    },
    {
      q: "My brother ______ (not/play) video games every day. (play)",
      answers: ["does not play", "doesn't play"],
      explain: "Hiện tại đơn: Thói quen hàng ngày."
    },
    {
      q: "I ______ the window. It's too hot here. (open)",
      answers: ["will open"],
      explain: "Tương lai đơn: Quyết định tức thì tại lúc nói."
    },
    {
      q: "The train ______ at 6 a.m tomorrow. (leave)",
      answers: ["leaves"],
      explain: "Hiện tại đơn: Lịch trình tàu xe cố định."
    },
    {
      q: "How long ______ she ______ for this company? (work)",
      answers: ["has", "worked"],
      explain: "Hiện tại hoàn thành: Khoảng thời gian kéo dài đến hiện tại."
    },
    {
      q: "______ it ______ when you left home? (rain)",
      answers: ["Was", "raining"],
      explain: "Quá khứ tiếp diễn: Hỏi về hành động đang diễn ra lúc đó."
    },
    {
      q: "He ______ (not/visit) us for ages. (visit)",
      answers: ["has not visited", "hasn't visited"],
      explain: "Hiện tại hoàn thành: Dấu hiệu 'for ages'."
    },
    {
      q: "I think he ______ the exam. (pass)",
      answers: ["will pass"],
      explain: "Tương lai đơn: Dự đoán cá nhân sau 'I think'."
    },
    {
      q: "While I ______ dinner, the lights went out. (cook)",
      answers: ["was cooking"],
      explain: "Quá khứ tiếp diễn: Hành động đang diễn ra bị cắt ngang."
    },
    {
      q: "______ you ______ the door? It's still open. (lock)",
      answers: ["Did", "lock"],
      explain: "Quá khứ đơn: Hỏi về hành động lẽ ra đã phải làm."
    },
    {
      q: "She ______ to the party. She's not feeling well. (not/come)",
      answers: ["is not going to come", "isn't going to come"],
      explain: "Tương lai gần: Dự đoán dựa trên tình hình sức khỏe."
    },
    {
      q: "Up to now, we ______ any problems. (not/have)",
      answers: ["have not had", "haven't had"],
      explain: "Hiện tại hoàn thành: Dấu hiệu 'Up to now'."
    },
    {
      q: "What ______ those people ______ now? (do)",
      answers: ["are", "doing"],
      explain: "Hiện tại tiếp diễn: Dấu hiệu 'now'."
    },
    {
      q: "If it rains, we ______ at home. (stay)",
      answers: ["will stay"],
      explain: "Tương lai đơn: Câu điều kiện loại 1."
    },
    {
      q: "Look! That car ______ the tree. (hit)",
      answers: ["is going to hit"],
      explain: "Tương lai gần: Dự đoán hành động sắp xảy ra ngay trước mắt."
    },
    {
      q: "I ______ the book already. (read)",
      answers: ["have read"],
      explain: "Hiện tại hoàn thành: Dấu hiệu 'already'."
    },
    {
      q: "Where ______ you ______ last summer? (be)",
      answers: ["were"],
      explain: "Quá khứ đơn với To be: 'You' đi với 'were'."
    },
    {
      q: "They ______ (not/eat) lunch together often. (eat)",
      answers: ["do not eat", "don't eat"],
      explain: "Hiện tại đơn: Trạng từ 'often' chỉ tần suất."
    },
    {
      q: "We ______ soccer when the rain started. (not/play)",
      answers: ["were not playing", "weren't playing"],
      explain: "Quá khứ tiếp diễn: Phủ định hành động đang diễn ra."
    },
    {
      q: "I ______ my hair cut this afternoon. I've booked an appointment. (have)",
      answers: ["am going to have"],
      explain: "Tương lai gần: Đã có lịch hẹn trước."
    },
    {
      q: "The flowers ______ (not/look) fresh today. (look)",
      answers: ["do not look", "don't look"],
      explain: "Hiện tại đơn: Động từ chỉ trạng thái (stative verb)."
    },
    {
      q: "______ you ______ the letter yet? (send)",
      answers: ["Have", "sent"],
      explain: "Hiện tại hoàn thành: Dấu hiệu 'yet'."
    },
    {
      q: "Maybe they ______ us soon. (visit)",
      answers: ["will visit"],
      explain: "Tương lai đơn: Dự đoán không chắc chắn với 'Maybe'."
    }
  ],


  7: [
    {
      q: "I ______ a dentist appointment at 3 p.m today. (have)",
      answers: ["am going to have"],
      explain: "Tương lai gần: Diễn tả một kế hoạch đã được sắp đặt trước."
    },
    {
      q: "The kids ______ in the garden when it started to thunder. (not/play)",
      answers: ["were not playing", "weren't playing"],
      explain: "Quá khứ tiếp diễn (-): Phủ định hành động đang diễn ra tại một thời điểm quá khứ."
    },
    {
      q: "How many times ______ she ______ that song today? (sing)",
      answers: ["has", "sung"],
      explain: "Hiện tại hoàn thành (?): Hỏi về số lần thực hiện hành động tính đến hiện tại."
    },
    {
      q: "We ______ (not/go) to school on Sundays. (go)",
      answers: ["do not go", "don't go"],
      explain: "Hiện tại đơn: Sự thật hiển nhiên/Thói quen."
    },
    {
      q: "I ______ you with the cooking if you are tired. (help)",
      answers: ["will help"],
      explain: "Tương lai đơn: Đưa ra lời đề nghị giúp đỡ ngay tại thời điểm nói."
    },
    {
      q: "Look at the man on the bridge! He ______ jump! (be going to)",
      answers: ["is going to"],
      explain: "Tương lai gần: Dự đoán dựa trên bằng chứng hiện tại đang quan sát thấy."
    },
    {
      q: "She ______ (not/be) at the meeting yesterday morning. (be)",
      answers: ["was not", "wasn't"],
      explain: "Quá khứ đơn với To be: Trạng thái trong quá khứ."
    },
    {
      q: "Wait! I ______ my umbrella. (forget)",
      answers: ["have forgotten"],
      explain: "Hiện tại hoàn thành: Hành động vừa xảy ra và để lại kết quả hiện tại (giờ không có ô)."
    },
    {
      q: "______ you ______ to the radio when the news was announced? (listen)",
      answers: ["Were", "listening"],
      explain: "Quá khứ tiếp diễn (?): Hành động đang diễn ra tại một thời điểm quá khứ."
    },
    {
      q: "The train ______ at 8:00 every morning. (start)",
      answers: ["starts"],
      explain: "Hiện tại đơn: Diễn tả lịch trình, thời khóa biểu."
    },
    {
      q: "We ______ dinner when the lights suddenly went out. (have)",
      answers: ["were having"],
      explain: "Quá khứ tiếp diễn: Hành động đang xảy ra thì bị cắt ngang."
    },
    {
      q: "I ______ (not/see) him since we graduated from university. (see)",
      answers: ["have not seen", "haven't seen"],
      explain: "Hiện tại hoàn thành: Dấu hiệu 'since'."
    },
    {
      q: "______ they ______ a new house next year? (buy)",
      answers: ["Are", "going to buy"],
      explain: "Tương lai gần: Hỏi về dự định, kế hoạch."
    },
    {
      q: "Listen! Someone ______ my name outside. (call)",
      answers: ["is calling"],
      explain: "Hiện tại tiếp diễn: Hành động đang xảy ra (Listen!)."
    },
    {
      q: "I promise I ______ back before midnight. (be)",
      answers: ["will be"],
      explain: "Tương lai đơn: Lời hứa (promise)."
    },
    {
      q: "She ______ (not/wear) glasses when I first met her. (wear)",
      answers: ["was not wearing", "weren't wearing"],
      explain: "Quá khứ tiếp diễn: Miêu tả trạng thái đang diễn ra trong quá khứ."
    },
    {
      q: "Up to now, the team ______ ten matches. (win)",
      answers: ["has won"],
      explain: "Hiện tại hoàn thành: Dấu hiệu 'Up to now'."
    },
    {
      q: "My father ______ to work by car every day. (not/go)",
      answers: ["does not go", "doesn't go"],
      explain: "Hiện tại đơn: Thói quen/Sự thật."
    },
    {
      q: "I ______ my project this weekend. I have all the materials. (complete)",
      answers: ["am going to complete"],
      explain: "Tương lai gần: Dự định đã có sự chuẩn bị."
    },
    {
      q: "______ you ______ anything at the moment? (read)",
      answers: ["Are", "reading"],
      explain: "Hiện tại tiếp diễn: Dấu hiệu 'at the moment'."
    },
    {
      q: "They ______ for London last night. (leave)",
      answers: ["left"],
      explain: "Quá khứ đơn: Hành động kết thúc trong quá khứ (last night)."
    },
    {
      q: "I ______ never ______ such a beautiful sunset before. (see)",
      answers: ["have", "seen"],
      explain: "Hiện tại hoàn thành: Trải nghiệm với 'never'."
    },
    {
      q: "What ______ you ______ at this time yesterday? (do)",
      answers: ["were", "doing"],
      explain: "Quá khứ tiếp diễn: Thời điểm cụ thể trong quá khứ."
    },
    {
      q: "He thinks it ______ sunny tomorrow. (be)",
      answers: ["will be"],
      explain: "Tương lai đơn: Dự đoán cá nhân sau 'think'."
    },
    {
      q: "We ______ (not/eat) out since my birthday. (eat)",
      answers: ["have not eaten", "haven't eaten"],
      explain: "Hiện tại hoàn thành: Dấu hiệu 'since'."
    },
    {
      q: "While I ______ my room, I found some old photos. (tidy)",
      answers: ["was tidying"],
      explain: "Quá khứ tiếp diễn: Hành động nền đang diễn ra."
    },
    {
      q: "______ she ______ her dinner yet? (have)",
      answers: ["Has", "had"],
      explain: "Hiện tại hoàn thành: Dấu hiệu 'yet'."
    },
    {
      q: "The sun ______ behind the mountains. It's getting dark. (go)",
      answers: ["is going"],
      explain: "Hiện tại tiếp diễn: Hành động đang xảy ra (đang lặn)."
    },
    {
      q: "I ______ him for three years. (know)",
      answers: ["have known"],
      explain: "Hiện tại hoàn thành: Khoảng thời gian kéo dài đến hiện tại."
    },
    {
      q: "They ______ (not/be) happy when they heard the bad news. (be)",
      answers: ["were not", "weren't"],
      explain: "Quá khứ đơn với To be: Phản ứng tại một thời điểm quá khứ."
    },
   { q: "______ your parents ______ a new car next month? (buy)",
      answers: ["Are", "going to buy"],
      explain: "Tương lai gần: Hỏi về kế hoạch đã định."
    },
    {
      q: "The flowers ______ if you don't water them. (die)",
      answers: ["will die"],
      explain: "Tương lai đơn: Câu điều kiện loại 1."
    },
    {
      q: "I ______ (not/study) when the phone rang. (study)",
      answers: ["was not studying", "wasn't studying"],
      explain: "Quá khứ tiếp diễn: Phủ định hành động đang diễn ra tại quá khứ."
    },
    {
      q: "How many languages ______ she ______? (speak)",
      answers: ["does", "speak"],
      explain: "Hiện tại đơn: Hỏi về khả năng/sự thật."
    },
    {
      q: "I ______ the window already. (close)",
      answers: ["have closed"],
      explain: "Hiện tại hoàn thành: Dấu hiệu 'already'."
    },
    {
      q: "Look! The cat ______ up that tree. (climb)",
      answers: ["is climbing"],
      explain: "Hiện tại tiếp diễn: Hành động đang xảy ra trước mắt."
    },
    {
      q: "______ you ______ the letter yesterday? (post)",
      answers: ["Did", "post"],
      explain: "Quá khứ đơn: Câu hỏi sự việc quá khứ."
    },
    {
      q: "Maybe we ______ to the beach this weekend. (go)",
      answers: ["will go"],
      explain: "Tương lai đơn: Dự đoán không chắc chắn (Maybe)."
    },
    {
      q: "The ground is wet because it ______ all morning. (rain)",
      answers: ["has rained"],
      explain: "Hiện tại hoàn thành: Hành động vừa kết thúc để lại kết quả hiện tại."
    },
    {
      q: "While they ______ to the radio, they heard a strange noise. (listen)",
      answers: ["were listening"],
      explain: "Quá khứ tiếp diễn: Hành động đang diễn ra."
    },
    {
      q: "He ______ (not/have) any money left now. (have)",
      answers: ["does not have", "doesn't have"],
      explain: "Hiện tại đơn: Trạng thái sở hữu ở hiện tại."
    },
    {
      q: "I ______ my bike to school tomorrow. (ride)",
      answers: ["am going to ride"],
      explain: "Tương lai gần: Dự định cá nhân."
    },
    {
      q: "I ______ (not/be) to that city for ages. (be)",
      answers: ["have not been", "haven't been"],
      explain: "Hiện tại hoàn thành: Dấu hiệu 'for ages'."
    }
  ],

};

/******** RENDER QUESTION ********/
function renderQuestion(item, idx, topic){
  let text = item.q;
  let blankCount = 0;

  text = text.replace(/_+/g, () => {
    const html = `<input class="blankInput" id="t${topic}q${idx}b${blankCount}">`;
    blankCount++;
    return html;
  });

  // highlight verb hint
  return text.replace(/\((.*?)\)/g, "<span class='blankMark'>($1)</span>");
}

/******** LOAD ********/
function loadExercises(){
  const topic = topicSelect.value;
  const box = document.getElementById("exerciseBox");
  const list = exercises[topic];
  let html = "";

  list.forEach((item, idx) => {
    html += `
      <div class="q-box">
        <div>${idx+1}. ${renderQuestion(item, idx, topic)}</div>
        <button class="check-btn" onclick="checkAnswer(${idx}, ${topic})">Check</button>
        <div class="result" id="res${topic}_${idx}"></div>
      </div>
    `;
  });

  box.innerHTML = html;
}

/******** CHECK ANSWER (ANTI CRASH) ********/
function checkAnswer(idx, topic){
  const item = exercises[topic][idx];
  const res = document.getElementById(`res${topic}_${idx}`);
  let correct = true;

  for(let i = 0; i < item.answers.length; i++){
    const input = document.getElementById(`t${topic}q${idx}b${i}`);

    if(!input){
      console.warn("Missing blank:", topic, idx, i);
      correct = false;
      continue;
    }

    const val = input.value.trim().toLowerCase();
    const ans = item.answers[i].toLowerCase();

    if(val !== ans) correct = false;
  }

if(correct){
  res.innerHTML = "Đúng rồi!";
  res.style.color = "green";
  showFireworks(); // 🎆 THÊM DÒNG NÀY
} else {

    res.innerHTML = `Chưa đúng rồi! → ${item.answers.join(" / ")}<br>${item.explain}`;
    res.style.color = "red";
  }
}


function showFireworks(){
  const firework = document.createElement("div");
  firework.className = "firework";
  firework.style.left = "50%";
  firework.style.top = "50%";

  const particles = 60; // tăng số tia
  const radius = 350;   // TĂNG GẤP HƠN 2 LẦN

  for(let i=0; i<particles; i++){
    const span = document.createElement("span");
    const angle = (2 * Math.PI / particles) * i;

    const x = Math.cos(angle) * radius;
    const y = Math.sin(angle) * radius;

    span.style.setProperty("--x", x + "px");
    span.style.setProperty("--y", y + "px");

    span.style.background = ["gold","red","aqua","pink","lime","white","orange"][Math.floor(Math.random()*7)];

    firework.appendChild(span);
  }

  document.body.appendChild(firework);

  setTimeout(() => firework.remove(), 1500);
}


/******** INIT ********/
document.getElementById("topicSelect").onchange = loadExercises;
loadExercises();

</script>

</body>
</html>
